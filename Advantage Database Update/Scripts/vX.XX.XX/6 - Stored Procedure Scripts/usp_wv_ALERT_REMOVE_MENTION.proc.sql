IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id(N'[dbo].[usp_wv_ALERT_REMOVE_MENTION]') AND OBJECTPROPERTY(id, N'IsProcedure') = 1)
    DROP PROCEDURE [dbo].[usp_wv_ALERT_REMOVE_MENTION]
GO
CREATE PROCEDURE [dbo].[usp_wv_ALERT_REMOVE_MENTION]

@ALERT_ID INT,
@DESCRIPTION_MENTION INT,
@CURRENT_USER VARCHAR(6)

AS

DECLARE @COMMENT_ID INT = 0

BEGIN
	--IF @DESCRIPTION_MENTION = 1
	--	DELETE FROM ALERT_MENTION WITH (ROWLOCK) WHERE ALERT_ID = @ALERT_ID AND USER_CODE = @CURRENT_USER AND COMMENT_ID = 0
	--ELSE
	--	DELETE FROM ALERT_MENTION WITH (ROWLOCK) WHERE ALERT_ID = @ALERT_ID AND USER_CODE = @CURRENT_USER AND COMMENT_ID <> 0
	DELETE FROM ALERT_MENTION WITH (ROWLOCK) WHERE ALERT_ID = @ALERT_ID AND USER_CODE = @CURRENT_USER AND COMMENT_ID = 0
END