CREATE PROCEDURE [dbo].[advsp_invoice_printing_cleanup_settings]
AS
BEGIN

	DELETE FROM 
		dbo.COMBO_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 0 AND 
		COMBO_INV_DEF_ID NOT IN (SELECT MIN(COMBO_INV_DEF_ID) FROM dbo.COMBO_INV_DEF WHERE CLIENT_OR_DEF = 0)

	DELETE FROM 
		dbo.COMBO_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 1 AND 
		COMBO_INV_DEF_ID NOT IN (SELECT MIN(COMBO_INV_DEF_ID) FROM dbo.COMBO_INV_DEF WHERE CLIENT_OR_DEF = 1)
	
	DELETE FROM 
		dbo.COMBO_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 2 AND 
		COMBO_INV_DEF_ID NOT IN (SELECT MIN(COMBO_INV_DEF_ID) FROM dbo.COMBO_INV_DEF WHERE CLIENT_OR_DEF = 2 GROUP BY CL_CODE)
	
	DELETE FROM 
		dbo.MEDIA_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 0 AND 
		MEDIA_INV_DEF_ID NOT IN (SELECT MIN(MEDIA_INV_DEF_ID) FROM dbo.MEDIA_INV_DEF WHERE CLIENT_OR_DEF = 0)

	DELETE FROM 
		dbo.MEDIA_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 1 AND 
		MEDIA_INV_DEF_ID NOT IN (SELECT MIN(MEDIA_INV_DEF_ID) FROM dbo.MEDIA_INV_DEF WHERE CLIENT_OR_DEF = 1)
	
	DELETE FROM 
		dbo.MEDIA_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 2 AND 
		MEDIA_INV_DEF_ID NOT IN (SELECT MIN(MEDIA_INV_DEF_ID) FROM dbo.MEDIA_INV_DEF WHERE CLIENT_OR_DEF = 2 GROUP BY CL_CODE)
	
	DELETE FROM 
		dbo.PROD_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 0 AND 
		PROD_INV_DEF_ID NOT IN (SELECT MIN(PROD_INV_DEF_ID) FROM dbo.PROD_INV_DEF WHERE CLIENT_OR_DEF = 0)

	DELETE FROM 
		dbo.PROD_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 1 AND 
		PROD_INV_DEF_ID NOT IN (SELECT MIN(PROD_INV_DEF_ID) FROM dbo.PROD_INV_DEF WHERE CLIENT_OR_DEF = 1)

	DELETE FROM 
		dbo.PROD_INV_DEF 
	WHERE 
		CLIENT_OR_DEF = 2 AND 
		PROD_INV_DEF_ID NOT IN (SELECT MIN(PROD_INV_DEF_ID) FROM dbo.PROD_INV_DEF WHERE CLIENT_OR_DEF = 2 GROUP BY CL_CODE)

END
GO


