--DROP PROCEDURE [dbo].[proc_ALERT_COMMENTUpdate]
CREATE PROCEDURE [dbo].[proc_ALERT_COMMENTUpdate]
(
	@COMMENT_ID int,
	@ALERT_ID int,
	@USER_CODE varchar(100) = NULL,
	@GENERATED_DATE smalldatetime = NULL,
	@COMMENT text = NULL,
	@EMAILSENT bit,
	@USER_CODE_CP int = NULL
)
AS
BEGIN

	SET NOCOUNT OFF
	DECLARE @Err int

	UPDATE [ALERT_COMMENT]
	SET
		[ALERT_ID] = @ALERT_ID,
		[USER_CODE] = @USER_CODE,
		[GENERATED_DATE] = @GENERATED_DATE,
		[COMMENT] = @COMMENT,
		[EMAILSENT] = @EMAILSENT,
		[USER_CODE_CP] = @USER_CODE_CP
	WHERE
		[COMMENT_ID] = @COMMENT_ID


	SET @Err = @@Error


	RETURN @Err
END