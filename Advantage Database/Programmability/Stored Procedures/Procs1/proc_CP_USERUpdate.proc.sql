








CREATE PROCEDURE [dbo].[proc_CP_USERUpdate]
(
	@USER_GUID uniqueidentifier,
	@USER_NAME varchar(100),
	@LOWERED_USER_NAME varchar(100),
	@FULL_NAME varchar (100),
	@PASSWORD_HASH varchar(44),
	@LAST_LOGON datetime = NULL,
	@CREATED_BY varchar(6) = NULL,
	@CREATED_TIMESTAMP datetime = NULL,
	@IS_LOCKED bit = NULL,
	@EMAIL_ADDRESS varchar(100) = NULL,
	@LOGIN_TRY_COUNT smallint,
	@UNLOCK_TIME datetime = NULL,
	@MUST_CHANGE_PASSORD bit,
	@THEME varchar(20) = NULL,
	@CDP_CONTACT_ID int,
	@DESKTOP_TEMPLATE int,
	@WEB_ID varchar(50),
	@ADMIN_USER bit,
	@CL_CODE varchar(6),
	@ALERT_GROUP_CODE varchar(50),
	@AGENCY_CONTACT_CODE varchar(6)
)
AS
BEGIN

	SET NOCOUNT OFF
	DECLARE @Err int

	UPDATE [CP_USER]
	SET
		[USER_NAME] = @USER_NAME,
		[LOWERED_USER_NAME] = @LOWERED_USER_NAME,
		[FULL_NAME] = @FULL_NAME,
		[PASSWORD_HASH] = @PASSWORD_HASH,
		[LAST_LOGON] = @LAST_LOGON,
		[CREATED_BY] = @CREATED_BY,
		[CREATED_TIMESTAMP] = @CREATED_TIMESTAMP,
		[IS_LOCKED] = @IS_LOCKED,
		[EMAIL_ADDRESS] = @EMAIL_ADDRESS,
		[LOGIN_TRY_COUNT] = @LOGIN_TRY_COUNT,
		[UNLOCK_TIME] = @UNLOCK_TIME,
		[MUST_CHANGE_PASSORD] = @MUST_CHANGE_PASSORD,
		[THEME] = @THEME,
		[CDP_CONTACT_ID] = @CDP_CONTACT_ID,
		[DESKTOP_TEMPLATE] = @DESKTOP_TEMPLATE,
		[WEB_ID] = @WEB_ID,
		[ADMIN_USER] = @ADMIN_USER,
		[CL_CODE] = @CL_CODE,
		[ALERT_GROUP_CODE] = @ALERT_GROUP_CODE,
		[AGENCY_CONTACT_CODE] = @AGENCY_CONTACT_CODE
	WHERE
		[USER_GUID] = @USER_GUID


	SET @Err = @@Error


	RETURN @Err
END








