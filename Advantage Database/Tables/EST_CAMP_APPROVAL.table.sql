/****** Object:  Table [dbo].[EST_CAMP_APPROVAL]    Script Date: 03/17/2015 15:41:20 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING OFF
GO

CREATE TABLE [dbo].[EST_CAMP_APPROVAL](
	[APPROVAL_ID] INT IDENTITY (1, 1) NOT NULL,
	[CMP_IDENTIFIER] [int] NOT NULL,
	[ESTIMATE_NUMBER] [int] NOT NULL,
	[EST_COMPONENT_NBR] [smallint] NOT NULL,
	[EST_QUOTE_NBR] [smallint] NOT NULL,
	[EST_REVISION_NBR] [smallint] NOT NULL,
	[EST_APPR_BY] [varchar](40) NULL,
	[EST_APPR_DATE] [smalldatetime] NULL,
	[EMP_CODE] [varchar](6) NULL,
	[APPR_PWD] [varchar](10) NULL,
	[APPROVAL_PWD] [smallint] NULL,
	[CREATE_USER] [varchar](100) NULL,
	[CREATE_DATE] [smalldatetime] NULL,
	[APPR_NOTES] [text] NULL,
	[APPR_TYPE] [varchar](2)
 CONSTRAINT [PK_EST_CAMP_APPROVAL] PRIMARY KEY CLUSTERED 
(
	[APPROVAL_ID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON, FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[EST_CAMP_APPROVAL]  WITH NOCHECK ADD  CONSTRAINT [FK_EST_CAMP_APPROVAL_EC] FOREIGN KEY([EMP_CODE])
REFERENCES [dbo].[EMPLOYEE_CLOAK] ([EMP_CODE])
GO

ALTER TABLE [dbo].[EST_CAMP_APPROVAL] CHECK CONSTRAINT [FK_EST_CAMP_APPROVAL_EC]
GO

ALTER TABLE [dbo].[EST_CAMP_APPROVAL]  WITH CHECK ADD  CONSTRAINT [FK_EST_CAMP_APPROVAL_EST_REV] FOREIGN KEY([ESTIMATE_NUMBER], [EST_COMPONENT_NBR], [EST_QUOTE_NBR], [EST_REVISION_NBR])
REFERENCES [dbo].[ESTIMATE_REV] ([ESTIMATE_NUMBER], [EST_COMPONENT_NBR], [EST_QUOTE_NBR], [EST_REV_NBR])
GO

ALTER TABLE [dbo].[EST_CAMP_APPROVAL] CHECK CONSTRAINT [FK_EST_CAMP_APPROVAL_EST_REV]
GO

ALTER TABLE [dbo].[EST_CAMP_APPROVAL]  WITH NOCHECK ADD  CONSTRAINT [FK_EST_CAMP_APPROVAL_CAMP] FOREIGN KEY([CMP_IDENTIFIER])
REFERENCES [dbo].[CAMPAIGN] ([CMP_IDENTIFIER])
GO

ALTER TABLE [dbo].[EST_CAMP_APPROVAL] CHECK CONSTRAINT [FK_EST_CAMP_APPROVAL_CAMP]
GO

