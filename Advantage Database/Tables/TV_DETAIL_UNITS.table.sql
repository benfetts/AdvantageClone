
/****** Object:  Table [dbo].[TV_DETAIL_UNITS]    Script Date: 05/06/2014 16:03:38 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TV_DETAIL_UNITS]') AND type in (N'U'))
DROP TABLE [dbo].[TV_DETAIL_UNITS]
GO

/****** Object:  Table [dbo].[TV_DETAIL_UNITS]    Script Date: 05/06/2014 16:03:38 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING OFF
GO

CREATE TABLE [dbo].[TV_DETAIL_UNITS](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[ORDER_NBR] [int] NOT NULL,
	[LINE_NBR] [smallint] NOT NULL,
	[REV_NBR] [smallint] NOT NULL,
	[SEQ_NBR] [smallint] NOT NULL,
	[UNIT_NBR] [smallint] NOT NULL,
	[PRD_CODE] [varchar](6) NOT NULL,
	[UNIT_DATE] [smalldatetime] NOT NULL,
	[LINK_UNITID] [int] NULL,
	[UNITS] [int] NOT NULL	
) ON [PRIMARY]

SET ANSI_PADDING ON

ALTER TABLE [dbo].[TV_DETAIL_UNITS] ADD  CONSTRAINT [PK_TV_DETAIL_UNITS] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]

ALTER TABLE [dbo].[TV_DETAIL_UNITS] ADD UNIQUE([ORDER_NBR], [LINE_NBR], [REV_NBR], [SEQ_NBR], [UNIT_NBR])
GO

--Need to enforce this in logic since Client & Division are at the header level
--ALTER TABLE [dbo].[TV_DETAIL_UNITS]  WITH CHECK ADD  CONSTRAINT [FK_RA_DTL_UNITS_PRODUCT] FOREIGN KEY([...PRD_CODE])
--REFERENCES [dbo].[PRODUCT] ([...PRD_CODE])
--GO

--ALTER TABLE [dbo].[TV_DETAIL_UNITS] CHECK CONSTRAINT [FK_RA_DTL_UNITS_PRODUCT]
--GO

GRANT SELECT, INSERT, UPDATE, DELETE ON [TV_DETAIL_UNITS] TO PUBLIC AS dbo
GO

SET ANSI_PADDING OFF
GO


