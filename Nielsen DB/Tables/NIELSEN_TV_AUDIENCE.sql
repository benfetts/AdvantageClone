CREATE TABLE [dbo].[NIELSEN_TV_AUDIENCE] (
    [NIELSEN_TV_AUDIENCE_ID] BIGINT        IDENTITY (1, 1) NOT NULL,
    [NIELSEN_TV_BOOK_ID]     INT           NOT NULL,
    [STATION_CODE]           INT           NOT NULL,
    [AUDIENCE_DATETIME]      SMALLDATETIME NOT NULL,
    [IS_EXCLUDED]            BIT           NOT NULL,
    [METROA_HOUSEHOLD_AUD]   INT           NOT NULL,
    [METROB_HOUSEHOLD_AUD]   INT           NOT NULL,
    [HOUSEHOLD_AUD]          INT           NOT NULL,
    [CHILDREN_2TO5_AUD]      INT           NOT NULL,
    [CHILDREN_6TO11_AUD]     INT           NOT NULL,
    [MALES_12TO14_AUD]       INT           NOT NULL,
    [MALES_15TO17_AUD]       INT           NOT NULL,
    [MALES_18TO20_AUD]       INT           NOT NULL,
    [MALES_21TO24_AUD]       INT           NOT NULL,
    [MALES_25TO34_AUD]       INT           NOT NULL,
    [MALES_35TO49_AUD]       INT           NOT NULL,
    [MALES_50TO54_AUD]       INT           NOT NULL,
    [MALES_55TO64_AUD]       INT           NOT NULL,
    [MALES_65PLUS_AUD]       INT           NOT NULL,
    [FEMALES_12TO14_AUD]     INT           NOT NULL,
    [FEMALES_15TO17_AUD]     INT           NOT NULL,
    [FEMALES_18TO20_AUD]     INT           NOT NULL,
    [FEMALES_21TO24_AUD]     INT           NOT NULL,
    [FEMALES_25TO34_AUD]     INT           NOT NULL,
    [FEMALES_35TO49_AUD]     INT           NOT NULL,
    [FEMALES_50TO54_AUD]     INT           NOT NULL,
    [FEMALES_55TO64_AUD]     INT           NOT NULL,
    [FEMALES_65PLUS_AUD]     INT           NOT NULL,
    [WORKING_WOMEN_AUD]      INT           NOT NULL,
    CONSTRAINT [PK_NIELSEN_TV_AUDIENCE] PRIMARY KEY CLUSTERED ([NIELSEN_TV_AUDIENCE_ID] ASC),
	CONSTRAINT [FK_NIELSEN_TV_AUDIENCE_NIELSEN_TV_BOOK] FOREIGN KEY ([NIELSEN_TV_BOOK_ID]) REFERENCES [dbo].[NIELSEN_TV_BOOK] ([NIELSEN_TV_BOOK_ID]),
);


GO
CREATE UNIQUE NONCLUSTERED INDEX [NIELSEN_TV_AUDIENCE_UNIQUE]
    ON [dbo].[NIELSEN_TV_AUDIENCE]([NIELSEN_TV_BOOK_ID] ASC, [STATION_CODE] ASC, [AUDIENCE_DATETIME] ASC);

