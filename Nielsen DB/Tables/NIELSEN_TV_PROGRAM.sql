CREATE TABLE [dbo].[NIELSEN_TV_PROGRAM] (
    [NIELSEN_TV_PROGRAM_ID]   BIGINT        IDENTITY (1, 1) NOT NULL,
    [NIELSEN_TV_PROGRAM_BOOK_ID]      INT           NOT NULL,
    [STATION_CODE]            INT           NOT NULL,
    [QTR_HOUR_START_DATETIME] SMALLDATETIME NOT NULL,
    [QTR_HOUR_END_DATETIME]   SMALLDATETIME NOT NULL,
    [PROGRAM_NAME]            VARCHAR (14)  NOT NULL,
    [SUBTITLE]                VARCHAR (12)  NULL,
    [TRACKAGE_NAME]           VARCHAR (14)  NULL,
    CONSTRAINT [PK_NIELSEN_TV_PROGRAM] PRIMARY KEY CLUSTERED ([NIELSEN_TV_PROGRAM_ID] ASC),
	CONSTRAINT [FK_NIELSEN_TV_PROGRAM_NIELSEN_TV_PROGRAM_BOOK] FOREIGN KEY ([NIELSEN_TV_PROGRAM_BOOK_ID]) REFERENCES [dbo].[NIELSEN_TV_PROGRAM_BOOK] ([NIELSEN_TV_PROGRAM_BOOK_ID]),
);


GO
CREATE UNIQUE NONCLUSTERED INDEX [NIELSEN_TV_PROGRAM_UNIQUE] ON [dbo].[NIELSEN_TV_PROGRAM]
(
	[NIELSEN_TV_PROGRAM_BOOK_ID] ASC,
	[STATION_CODE] ASC,
	[QTR_HOUR_START_DATETIME] ASC
)
INCLUDE ([PROGRAM_NAME]) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
