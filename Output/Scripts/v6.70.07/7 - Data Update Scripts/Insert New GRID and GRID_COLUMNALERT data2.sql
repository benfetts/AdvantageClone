DECLARE 
	@GRID_ID AS INT,
	@MAX_DEFAULT_ORDER_ID AS INT,
	@COLUMN_NAME AS VARCHAR(100)

DECLARE GRID_NAME_CURSOR CURSOR FOR
SELECT GRID_ID FROM [GRID] WITH(NOLOCK) WHERE NAME IN ('RadGridAlertInbox', 'AAMTaskViewGrid', 'RadGridAlertDismissed', 'RadGridAlertAll', 'RadGridAlertDrafts');

OPEN GRID_NAME_CURSOR;
FETCH NEXT FROM GRID_NAME_CURSOR INTO @GRID_ID;

WHILE (@@FETCH_STATUS = 0)
BEGIN
	--SELECT NAME FROM GRID WHERE GRID_ID = @GRID_ID
	SELECT @MAX_DEFAULT_ORDER_ID = MAX(DEFAULT_ORDER_ID) FROM GRID_COLUMN WITH(NOLOCK)
	WHERE GRID_ID = @GRID_ID;

	BEGIN
		SET @COLUMN_NAME = 'SprintDescription';		
		IF NOT EXISTS (SELECT GRID_COLUMN_ID FROM GRID_COLUMN WITH(NOLOCK) WHERE GRID_ID = @GRID_ID AND NAME = @COLUMN_NAME)
		BEGIN
			INSERT INTO GRID_COLUMN (GRID_ID, [NAME], IS_EDITABLE, DEFAULT_ORDER_ID, DEFAULT_COLUMN_WIDTH) VALUES (@GRID_ID, @COLUMN_NAME, 1, @MAX_DEFAULT_ORDER_ID + 1, 150);
		END

		SET @COLUMN_NAME = 'SprintStartDate';		
		IF NOT EXISTS (SELECT GRID_COLUMN_ID FROM GRID_COLUMN WITH(NOLOCK) WHERE GRID_ID = @GRID_ID AND NAME = @COLUMN_NAME)
		BEGIN
			INSERT INTO GRID_COLUMN (GRID_ID, [NAME], IS_EDITABLE, DEFAULT_ORDER_ID, DEFAULT_COLUMN_WIDTH) VALUES (@GRID_ID, @COLUMN_NAME, 1, @MAX_DEFAULT_ORDER_ID + 2, 150);
		END
	END

	FETCH NEXT FROM GRID_NAME_CURSOR INTO @GRID_ID;
END
CLOSE GRID_NAME_CURSOR;
DEALLOCATE GRID_NAME_CURSOR;