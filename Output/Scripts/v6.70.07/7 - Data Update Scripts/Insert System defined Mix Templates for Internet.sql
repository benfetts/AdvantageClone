--8
DELETE dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_PIVOT_FIELD WHERE MEDIA_PLAN_ESTIMATE_TEMPLATE_ID IN (
	SELECT MEDIA_PLAN_ESTIMATE_TEMPLATE_ID FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1
)

DELETE dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_PRODUCT WHERE MEDIA_PLAN_ESTIMATE_TEMPLATE_ID IN (
	SELECT MEDIA_PLAN_ESTIMATE_TEMPLATE_ID FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1
)

DELETE dbo.MEDIA_PLAN_TEMPLATE_PRODUCT
DELETE dbo.MEDIA_PLAN_TEMPLATE_DETAIL
DELETE dbo.MEDIA_PLAN_TEMPLATE_HEADER

DELETE dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA WHERE MEDIA_PLAN_ESTIMATE_TEMPLATE_ID IN (
	SELECT MEDIA_PLAN_ESTIMATE_TEMPLATE_ID FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1
)

DELETE dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC WHERE MEDIA_PLAN_ESTIMATE_TEMPLATE_ID IN (
	SELECT MEDIA_PLAN_ESTIMATE_TEMPLATE_ID FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1
)

DELETE dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR WHERE MEDIA_PLAN_ESTIMATE_TEMPLATE_ID IN (
	SELECT MEDIA_PLAN_ESTIMATE_TEMPLATE_ID FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1
)

DELETE dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE MEDIA_PLAN_ESTIMATE_TEMPLATE_ID IN (
	SELECT MEDIA_PLAN_ESTIMATE_TEMPLATE_ID FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1
)

DECLARE @TEMPLATE_ID int,
		@VENDOR_ID int,
		@Search int,
		@Contextual int,
		@Geofencing int,
		@Audio int,
		@DemographicCampaign int,
		@BrandedSearch int,
		@NonbrandedSearch int,
		@CompetitorChanneltargeting int,

		@Preroll int,
		@CTV int,
		@InstreamVideoCampaign int,
		@NewsfeedVideoCampaign int,

		@SiteRetargeting int,
		@LALAudienceCampaign int,
		@InstragramCampaign int

IF NOT EXISTS(SELECT 1 FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1 AND [DESCRIPTION] = 'Overall Branding') BEGIN

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE ([TYPE], [DESCRIPTION], GOALS, IS_INACTIVE, IS_SYSTEM) VALUES
	('I', 'Overall Branding', 'The goal of the campaign is to reach the widest audience possible. Highest number of unique users reached.', 0, 1)

	SET @TEMPLATE_ID = SCOPE_IDENTITY()
	
	--tactics
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Search Campaign')	
	SET @Search = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Contextual')
	SET @Contextual = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Geofencing')
	SET @Geofencing = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Audio')
	SET @Audio = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Demographic Campaign')
	SET @DemographicCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Branded Search')
	SET @BrandedSearch = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Non-Branded Search')
	SET @NonbrandedSearch = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Competitor Channel Targeting')
	SET @CompetitorChanneltargeting = SCOPE_IDENTITY()

	--vendors/percents
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Simpli.fi')	
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 15.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Contextual, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Geofencing, 10.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Audio, 5.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Facebook')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @DemographicCampaign, 25.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Google Ads')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @BrandedSearch, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @NonbrandedSearch, 20.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'YouTube')
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @DemographicCampaign, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @CompetitorChanneltargeting, 5.0000, 0)

END

IF NOT EXISTS(SELECT 1 FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1 AND [DESCRIPTION] = 'Video Focused Branding') BEGIN

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE ([TYPE], [DESCRIPTION], GOALS, IS_INACTIVE, IS_SYSTEM) VALUES
	('I', 'Video Focused Branding', 'The goal of the campaign is to reach the widest audience possible through content and engagement rich video advertising.', 0, 1)

	SET @TEMPLATE_ID = SCOPE_IDENTITY()
	
	--tactics
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Pre-roll')	
	SET @Preroll = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'CTV')
	SET @CTV = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Instream Video Campaign')
	SET @InstreamVideoCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Newsfeed Video Campaign')
	SET @NewsfeedVideoCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Demographic Campaign')
	SET @DemographicCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Search Campaign')	
	SET @Search = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Competitor Channel Targeting')
	SET @CompetitorChanneltargeting = SCOPE_IDENTITY()

	--vendors/percents
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Simpli.fi')	
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Preroll, 15.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @CTV, 30.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Facebook')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @InstreamVideoCampaign, 10.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @NewsfeedVideoCampaign, 10.0000, 0)
	
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'YouTube')
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @DemographicCampaign, 12.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 12.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @CompetitorChanneltargeting, 11.0000, 0)

END

IF NOT EXISTS(SELECT 1 FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1 AND [DESCRIPTION] = 'Social Media Heavy Branding') BEGIN

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE ([TYPE], [DESCRIPTION], GOALS, IS_INACTIVE, IS_SYSTEM) VALUES
	('I', 'Social Media Heavy Branding', 'Create an online presence with a heavy emphasis on Social Media presence. This can be particularly useful when trying to reach younger audiences.', 0, 1)

	SET @TEMPLATE_ID = SCOPE_IDENTITY()
	
	--tactics
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Search Campaign')	
	SET @Search = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Contextual')
	SET @Contextual = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Site Retargeting')
	SET @SiteRetargeting = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Demographic Campaign')
	SET @DemographicCampaign = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'LAL Audience Campaign')
	SET @LALAudienceCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Instragram Campaign')
	SET @InstragramCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Non-Branded Search')
	SET @NonbrandedSearch = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Competitor Channel Targeting')
	SET @CompetitorChanneltargeting = SCOPE_IDENTITY()

	--vendors/percents
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Simpli.fi')	
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Contextual, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @SiteRetargeting, 5.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Facebook')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @DemographicCampaign, 25.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @LALAudienceCampaign, 15.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @InstragramCampaign, 15.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Google Ads')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @NonbrandedSearch, 5.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'YouTube')
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @DemographicCampaign, 10.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @CompetitorChanneltargeting, 10.0000, 0)

END

IF NOT EXISTS(SELECT 1 FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1 AND [DESCRIPTION] = 'Search Targeting') BEGIN

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE ([TYPE], [DESCRIPTION], GOALS, IS_INACTIVE, IS_SYSTEM) VALUES
	('I', 'Search Targeting', 'More search data heavy focus in order to identify users that are actively searching for an existing problem that your company solves. (Top of the funnel)', 0, 1)

	SET @TEMPLATE_ID = SCOPE_IDENTITY()
	
	--tactics
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Search Campaign')	
	SET @Search = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Branded Search')
	SET @BrandedSearch = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Non-Branded Search')
	SET @NonbrandedSearch = SCOPE_IDENTITY()

	--vendors/percents
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Simpli.fi')	
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 20.0000, 0)
		

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Google Ads')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @BrandedSearch, 30.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @NonbrandedSearch, 20.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'YouTube')
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 30.0000, 0)

END

IF NOT EXISTS(SELECT 1 FROM dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE WHERE [TYPE] = 'I' AND IS_SYSTEM = 1 AND [DESCRIPTION] = 'Conversions') BEGIN

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE ([TYPE], [DESCRIPTION], GOALS, IS_INACTIVE, IS_SYSTEM) VALUES
	('I', 'Conversions', 'Goal is to drive an online conversion. Either website visit, form fill, or a purchase.', 0, 1)

	SET @TEMPLATE_ID = SCOPE_IDENTITY()
	
	--tactics
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Search Campaign')	
	SET @Search = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Site Retargeting')
	SET @SiteRetargeting = SCOPE_IDENTITY()
	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Demographic Campaign')
	SET @DemographicCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'LAL Audience Campaign')
	SET @LALAudienceCampaign = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Branded Search')
	SET @BrandedSearch = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Non-Branded Search')
	SET @NonbrandedSearch = SCOPE_IDENTITY()

	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_TACTIC_ID, [DESCRIPTION]) VALUES
	(@TEMPLATE_ID, NULL, 'Competitor Channel Targeting')
	SET @CompetitorChanneltargeting = SCOPE_IDENTITY()

	--vendors/percents
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Simpli.fi')	
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 10.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @SiteRetargeting, 20.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Facebook')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @DemographicCampaign, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @LALAudienceCampaign, 5.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @SiteRetargeting, 15.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'Google Ads')
	SET @VENDOR_ID = SCOPE_IDENTITY()	
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @BrandedSearch, 25.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @NonbrandedSearch, 5.0000, 0)


	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR (MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, VN_CODE, NAME) VALUES
	(@TEMPLATE_ID, NULL, 'YouTube')
	SET @VENDOR_ID = SCOPE_IDENTITY()
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @SiteRetargeting, 7.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @Search, 4.0000, 0)
	INSERT INTO dbo.MEDIA_PLAN_ESTIMATE_TEMPLATE_DATA(MEDIA_PLAN_ESTIMATE_TEMPLATE_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_VENDOR_ID, MEDIA_PLAN_ESTIMATE_TEMPLATE_TACTIC_ID, [PERCENTAGE], [RATE]) VALUES (@TEMPLATE_ID, @VENDOR_ID, @CompetitorChanneltargeting, 4.0000, 0)

END
