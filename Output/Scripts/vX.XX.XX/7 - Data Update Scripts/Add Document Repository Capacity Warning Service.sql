IF NOT EXISTS(SELECT * FROM dbo.ADV_SERVICE WHERE [CODE] = 'AdvantageDocumentRepositoryCapacityWarningWindowsService') BEGIN

	INSERT INTO
		dbo.ADV_SERVICE([CODE], [NAME], [ENABLED])
	VALUES
		('AdvantageDocumentRepositoryCapacityWarningWindowsService', 'Document Repository Capacity Warning', 0)

END
GO

DECLARE @ADV_SERVICE_ID AS int

SELECT @ADV_SERVICE_ID = ADV_SERVICE_ID FROM dbo.ADV_SERVICE WHERE [CODE] = 'AdvantageDocumentRepositoryCapacityWarningWindowsService'

IF NOT EXISTS(SELECT * FROM dbo.ADV_SERVICE_SETTING WHERE [ADV_SERVICE_ID] = @ADV_SERVICE_ID AND [CODE] = 'RunAt') BEGIN

	INSERT INTO
		dbo.ADV_SERVICE_SETTING(ADV_SERVICE_ID, [CODE], [DESCRIPTION], [VALUE], [DEFAULT_VALUE])
	VALUES
		(@ADV_SERVICE_ID, 'RunAt', 'Run At', '', '2001-01-01 01:00:00.000')

END

IF NOT EXISTS(SELECT * FROM dbo.ADV_SERVICE_SETTING WHERE [ADV_SERVICE_ID] = @ADV_SERVICE_ID AND [CODE] = 'Email') BEGIN

	INSERT INTO
		dbo.ADV_SERVICE_SETTING(ADV_SERVICE_ID, [CODE], [DESCRIPTION], [VALUE], [DEFAULT_VALUE])
	VALUES
		(@ADV_SERVICE_ID, 'Email', 'Email', '', '')

END

IF NOT EXISTS(SELECT * FROM dbo.ADV_SERVICE_SETTING WHERE [ADV_SERVICE_ID] = @ADV_SERVICE_ID AND [CODE] = 'Threshold') BEGIN

	INSERT INTO
		dbo.ADV_SERVICE_SETTING(ADV_SERVICE_ID, [CODE], [DESCRIPTION], [VALUE], [DEFAULT_VALUE])
	VALUES
		(@ADV_SERVICE_ID, 'Threshold', 'Threshold', 0.9, 0.9)

END
