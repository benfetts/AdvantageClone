function OpenCommentWindow(n,t,i,r){window.setTimeout(function(){_OpenCommentWindow(n,t,i,r)},250)}function _OpenCommentWindow(n,t,i,r){var l="",e,c;l=t.value;e=[];e=l.split("|");var s=0,h=0,a="",v="",u="",o="",f="";return u=e[0],u.indexOf("Sun")>-1?f="TxtSunday":u.indexOf("Mon")>-1?f="TxtMonday":u.indexOf("Tue")>-1?f="TxtTuesday":u.indexOf("Wed")>-1?f="TxtWednesday":u.indexOf("Thu")>-1?f="TxtThursday":u.indexOf("Fri")>-1?f="TxtFriday":u.indexOf("Sat")>-1&&(f="TxtSaturday"),f!=""?(u=u.substring(0,u.length-3),o=document.getElementById(u+f).value):o=0,o=isNaN(o)==!0?0:o*1,isNaN(e[7])==!1&&(s=e[7]*1),isNaN(e[8])==!1&&(h=e[8]*1),a=e[10],v=e[9],c="",s>0&&h>0?(c="popcomments.aspx?empcode="+n+"&caller=Timesheet&type=hours&id="+a+"|"+s+"|"+h+"&date="+v+"&CanEdit="+i+"&IconDivName="+r,OpenRadWindow("",c,0,0,!1)):DataChangeSaveTime(t,u+f,"0.0",!0),!1}function UpdateDatakey(n,t,i,r){var o="",f,u,e;for(o=n.value,f=[],f=o.split("|"),f[7]=t,f[8]=i,r.length>0&&(f[10]=r),u="",e=0;e<f.length;e++)u=u+f[e]+"|";u=u.length>2?u.slice(0,u.length-1):o;n.value=u}function UpdateDatakeyHasComment(n,t){var f="",r,i,u;for(f=n.value,r=[],r=f.split("|"),r[14]=t,i="",u=0;u<r.length;u++)i=i+r[u]+"|";i=i.length>2?i.slice(0,i.length-1):f;n.value=i}function DataChangeSaveTime(n,t,i,r){window.setTimeout(function(){try{return n&&t?(i?(i=i.trim(),i==""&&(i=0,document.getElementById(t).value=String.localeFormat("{0:n}",i))):(i=0,document.getElementById(t).value=String.localeFormat("{0:n}",i)),isNaN(parseFloat(i))||(i=ParseLocale(i),r&&r==!0?PageMethods.SaveTime(n.value,t,i,!0,SaveTimeSucceededFromCommentIconPopUp,SaveTimeFailedFromCommentIconPopUp):PageMethods.SaveTime(n.value,t,i,!1,SaveTimeSucceeded,SaveTimeFailed)),!1):!1}catch(u){}},50)}function DataChangeSaveComment(n,t,i){try{return PageMethods.SaveComment(n.value,t,i,SaveTimeSucceeded,SaveTimeFailed),!1}catch(r){}}function SaveTimeSucceeded(n,t,i){window.setTimeout(function(){_SaveTimeSucceeded(n,t,i)},50)}function _SaveTimeSucceeded(n){var i,l,c;try{if(n&&n!=""){if(i="",i=n,i=i.replace("##","\n"),i=i.replace("##","\n"),i.indexOf("[object")>-1)return!1;var t=[],f=!1,e=0,o=0,s=0,h="",r=0,u="";if(i.indexOf("INSERT_SUCCESS")>-1||i.indexOf("INSERT_NP_SUCCESS")>-1){t=i.split("|");o=t[1];s=t[2];document.getElementById(t[9])&&(document.getElementById(t[9]).value=t[7]);i.indexOf("INSERT_SUCCESS")>-1&&(h="D");i.indexOf("INSERT_NP_SUCCESS")>-1&&(h="N");UpdateDatakey(document.getElementById(t[8]+"Datakey"),o,s,h);e=t[3]*1;t[t.length-2]&&t[t.length-2]=="true"&&(f=!0);try{f==!0&&e>0&&(document.getElementById(t[9]+"TextBoxComment").style.backgroundColor="#F8C732")}catch(a){}return RefreshTimesheetDTO(),!1}return i.indexOf("UPDATE_SUCCESS")>-1||i.indexOf("UPDATE_NP_SUCCESS")>-1?(t=i.split("|"),e=t[3]*1,document.getElementById(t[9])&&(document.getElementById(t[9]).value=t[7]),t[6]&&isNaN(t[6])===!1&&(r=t[6]),t[7]&&(r==-15||r==-16||r==-17)&&(u=t[7]),u&&u!=""&&alert(u),t[t.length-2]&&t[t.length-2]=="true"&&(f=!0),f==!0&&e==0&&document.getElementById(t[8]+"TextBoxComment")&&(document.getElementById(t[8]+"TextBoxComment").style.backgroundColor="LightYellow"),RefreshTimesheetDTO(),!1):i.indexOf("UPDATE_CMT_SUCCESS")>-1||i.indexOf("INSERT_CMT_SUCCESS")>-1?(t=i.split("|"),o=t[3],s=t[4],i.indexOf("INSERT_CMT_SUCCESS")>-1&&UpdateDatakey(document.getElementById(t[1]+"Datakey"),o,s,""),l=!1,t[6]=="true"&&(f=!0),!1):i.indexOf("UPDATE_FAIL")>-1?(console.log(i),t=i.split("|"),c=document.getElementById(t[10]),c&&(c.value=t[8]),e=t[3]*1,t[6]&&isNaN(t[6])===!1&&(r=t[6]),t[7]&&(r==-15||r==-16||r==-17)&&(u=t[7]),u&&u!=""&&alert(u),t[11]=="true"&&(f=!0),f==!0&&e==0&&(document.getElementById(t[9]+"TextBoxComment").style.backgroundColor="LightYellow"),RefreshTimesheetDTO(),!1):i.indexOf("ERROR|")>-1?(t=i.split("|"),alert(t[1]),document.getElementById(t[2]).value="",document.getElementById(t[2]).focus(),!1):!1}return!1}catch(v){}}function SaveTimeFailed(n){try{alert(n);var t="";t=n;t.indexOf("[object")>-1||alert(t)}catch(i){}}function SaveTimeSucceededFromCommentIconPopUp(n,t,i){window.setTimeout(function(){var r,e;if(_SaveTimeSucceeded(n,t,i),n&&n!=""){if(r="",r=n,r=r.replace("##","\n"),r=r.replace("##","\n"),r.indexOf("[object")>-1)return!1;var u=[],o=0,s=0,f="";(r.indexOf("INSERT_SUCCESS")>-1||r.indexOf("INSERT_NP_SUCCESS")>-1)&&(u=r.split("|"),o=u[1],s=u[2],r.indexOf("INSERT_SUCCESS")>-1&&(f="D"),r.indexOf("INSERT_NP_SUCCESS")>-1&&(f="N"),e="",e="popcomments.aspx?empcode="+EmpCode+"&caller=Timesheet&type=hours&id="+f+"|"+o+"|"+s+"&date=&CanEdit=&IconDivName="+IconDivName,OpenRadWindow("",e,0,0,!1))}},50)}function SaveTimeFailedFromCommentIconPopUp(n,t,i){SaveTimeFailed(n,t,i)}function setFooterTotals(n,t,i){window.setTimeout(function(){PageMethods.GetFooterTotals(n,t,i,setFooterTotalsSuccess,setFooterTotalsFail)},750)}function setFooterTotalsSuccess(n){var t;if(n&&(t=[],t=n.split("|"),t&&t.length===9)){switch(t[8]*1){case 1:$("#SaturdayFooterTotal").html(ParseLocale(t[0]));$("#SundayFooterTotal").html(ParseLocale(t[1]));$("#MondayFooterTotal").html(ParseLocale(t[2]));$("#TuesdayFooterTotal").html(ParseLocale(t[3]));$("#WednesdayFooterTotal").html(ParseLocale(t[4]));$("#ThursdayFooterTotal").html(ParseLocale(t[5]));$("#FridayFooterTotal").html(ParseLocale(t[6]));break;case 6:$("#MondayFooterTotal").html(ParseLocale(t[0]));$("#TuesdayFooterTotal").html(ParseLocale(t[1]));$("#WednesdayFooterTotal").html(ParseLocale(t[2]));$("#ThursdayFooterTotal").html(ParseLocale(t[3]));$("#FridayFooterTotal").html(ParseLocale(t[4]));$("#SaturdayFooterTotal").html(ParseLocale(t[5]));$("#SundayFooterTotal").html(ParseLocale(t[6]));break;default:$("#SundayFooterTotal").html(ParseLocale(t[0]));$("#MondayFooterTotal").html(ParseLocale(t[1]));$("#TuesdayFooterTotal").html(ParseLocale(t[2]));$("#WednesdayFooterTotal").html(ParseLocale(t[3]));$("#ThursdayFooterTotal").html(ParseLocale(t[4]));$("#FridayFooterTotal").html(ParseLocale(t[5]));$("#SaturdayFooterTotal").html(ParseLocale(t[6]))}$("#WeekGrandTotal").html(ParseLocale(t[7]));var i=0,r=0,u=0,f=0,e=0,o=0,s=0,h=0;i=t[0]*1;r=t[1]*1;u=t[2]*1;f=t[3]*1;e=t[4]*1;o=t[5]*1;s=t[6]*1;h=t[7]*1;$("#SundayFooterTotal").removeClass("warning");$("#MondayFooterTotal").removeClass("warning");$("#TuesdayFooterTotal").removeClass("warning");$("#WednesdayFooterTotal").removeClass("warning");$("#ThursdayFooterTotal").removeClass("warning");$("#FridayFooterTotal").removeClass("warning");$("#SaturdayFooterTotal").removeClass("warning");switch(t[8]*1){case 1:i>24&&$("#SundayFooterTotal").addClass("warning");r>24&&$("#MondayFooterTotal").addClass("warning");u>24&&$("#TuesdayFooterTotal").addClass("warning");f>24&&$("#WednesdayFooterTotal").addClass("warning");e>24&&$("#ThursdayFooterTotal").addClass("warning");o>24&&$("#FridayFooterTotal").addClass("warning");s>24&&$("#SaturdayFooterTotal").addClass("warning");break;case 6:i>24&&$("#MondayFooterTotal").addClass("warning");r>24&&$("#TuesdayFooterTotal").addClass("warning");u>24&&$("#WednesdayFooterTotal").addClass("warning");f>24&&$("#ThursdayFooterTotal").addClass("warning");e>24&&$("#FridayFooterTotal").addClass("warning");o>24&&$("#SaturdayFooterTotal").addClass("warning");s>24&&$("#SundayFooterTotal").addClass("warning");break;default:i>24&&$("#SundayFooterTotal").addClass("warning");r>24&&$("#MondayFooterTotal").addClass("warning");u>24&&$("#TuesdayFooterTotal").addClass("warning");f>24&&$("#WednesdayFooterTotal").addClass("warning");e>24&&$("#ThursdayFooterTotal").addClass("warning");o>24&&$("#FridayFooterTotal").addClass("warning");s>24&&$("#SaturdayFooterTotal").addClass("warning")}}}function setFooterTotalsFail(){}function setLineTotal(n,t,i,r,u,f,e,o){var s=0,h=0,c=0,l=0,a=0,v=0,y=0,p=0,w,b,k,d,g,nt,tt;try{n&&$("#"+n)&&(s=$("#"+n).val())}catch(it){s=0}try{t&&$("#"+t)&&(h=$("#"+t).val())}catch(it){h=0}try{i&&$("#"+i)&&(c=$("#"+i).val())}catch(it){c=0}try{r&&$("#"+r)&&(l=$("#"+r).val())}catch(it){l=0}try{u&&$("#"+u)&&(a=$("#"+u).val())}catch(it){a=0}try{f&&$("#"+f)&&(v=$("#"+f).val())}catch(it){v=0}try{e&&$("#"+e)&&(y=$("#"+e).val())}catch(it){y=0}s||(s=0);h||(h=0);c||(c=0);l||(l=0);a||(a=0);v||(v=0);y||(y=0);try{w=Number.parseLocale(s)}catch(it){w=0}try{b=Number.parseLocale(h)}catch(it){b=0}try{k=Number.parseLocale(c)}catch(it){k=0}try{d=Number.parseLocale(l)}catch(it){d=0}try{g=Number.parseLocale(a)}catch(it){g=0}try{nt=Number.parseLocale(v)}catch(it){nt=0}try{tt=Number.parseLocale(y)}catch(it){tt=0}p=w*1+b*1+k*1+d*1+g*1+nt*1+tt*1;isNaN(p)==!1&&o&&$("#"+o)&&$("#"+o).html(String.localeFormat("{0:n}",p))}function ValidateFunctionCategory(n,t,i,r){PageMethods.ValidateFunctionCategory(n,t,i,r,functionCategoryValid,functionCategoryInvalid)}function functionCategoryValid(n){try{if(n&&n!=""){var t="";return t=n,t=t.replace("##","\n"),t=t.replace("##","\n"),t.indexOf("[object")>-1?!1:(alert(t),!1)}return!0}catch(i){}}function functionCategoryInvalid(n){try{var t="";return t=n,t.indexOf("[object")>-1?!1:(alert(t),!1)}catch(i){}}function checkForComment(n,t){var e=document.getElementById(n),u=document.getElementById(t),r,f,i;e!=undefined&&u!=undefined&&(r=e.value,f=u.value,r&&isNaN(r)===!1&&r!=0&&(i=$("#"+t),f&&f.trim()!=""?(i.hasClass("standardRed")&&i.toggleClass("standardRed"),i.addClass("RequiredInput")):(i.addClass("standardRed"),u.focus())))}var MissingCommentMessage='Please enter all missing comments before continuing. <span style="text-decoration:underline">No changes will be saved until missing comments are entered.<\/span>';