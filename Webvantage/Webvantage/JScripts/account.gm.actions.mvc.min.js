function lockAllClick(n){showKendoConfirm("Are you sure you want to lock <strong>ALL<\/strong> users?").done(function(){la(n)}).fail(function(){})}function unLockAllClick(n){showKendoConfirm("Are you sure you want to unlock <strong>ALL<\/strong> users?").done(function(){ua(n)}).fail(function(){})}function clearAllClick(n){showKendoConfirm("Are you sure you want to clear passwords for <strong>ALL<\/strong> users?").done(function(){ca(n)}).fail(function(){})}function saveClick(n){s(n)}function clearClick(n){c(n)}function lockClick(n){l(n)}function unLockClick(n){u(n)}function s(n){var t=n.getAttribute("data-bind")*1,u,e,o;if(t&&isNaN(t)===!1){t=t*1;var r=$("#txtPwd_"+t),f=$("#txtPwd2_"+t),i=!0;r&&f&&(u=r.val().trim(),e=f.val().trim(),u&&u!=""||(notif("New Password is blank!","error"),$(r).focus(),i=!1),i!=!0||e&&e!=""||(notif("Confirm Password is blank!","error"),$(f).focus(),i=!1),i==!0&&u!=e&&(notif("Passwords do not match!","error"),$(r).focus(),i=!1),i==!0&&(o={u:t,p:u,x:gup("x")},$.post({url:window.appBase+"Account/GM/cp",dataType:"json",data:o}).always(function(n){var t;if(n)if(n.Success==!0)notif("Saved!","success");else if(n.Data.msgs){var i=n.Data.msgs,u=!1,e=!1;for(t=0;t<i.length;t++)i[t].indexOf("did not change")>-1?(notif(i[t],"warning"),u=!0,e=!0):(notif(i[t],"error"),u=!0),u==!0&&(e==!0?$(r).focus():$(f).focus())}})))}}function c(n){var t=n.getAttribute("data-bind")*1;if(t&&isNaN(t)===!1){t=t*1;var i=$("#txtPwd_"+t),r=$("#txtPwd2_"+t),u={u:t,x:gup("x")};$.post({url:window.appBase+"Account/GM/clr",dataType:"json",data:u}).always(function(n){var u,t;if(n)if(n.Success==!0)notif("Cleared!","success"),i.val(null),r.val(null);else if(n.Data.msgs)for(u=n.Data.msgs,t=0;t<u.length;t++)notif(u[t],"error")})}}function l(n){var t=n.getAttribute("data-bind")*1,i;t&&isNaN(t)===!1&&(t=t*1,i={u:t,x:gup("x")},$.post({url:window.appBase+"Account/GM/lk",dataType:"json",data:i}).always(function(n){var r,i;if(n)if(n.Success==!0)showLockIcon(t),notif("Locked!","error");else if(n.Data.msgs)for(r=n.Data.msgs,i=0;i<r.length;i++)notif(r[i],"error")}))}function u(n){var t=n.getAttribute("data-bind")*1,i;t&&isNaN(t)===!1&&(console.log("unlock!",t),t=t*1,i={u:t,x:gup("x")},console.log(i),$.post({url:window.appBase+"Account/GM/ulk",dataType:"json",data:i}).always(function(n){var r,i;if(n)if(n.Success==!0)showUnlockIcon(t),notif("Unlocked!","success");else if(n.Data.msgs)for(r=n.Data.msgs,i=0;i<r.length;i++)notif(r[i],"error")}))}function la(){var n={x:gup("x")};$.post({url:window.appBase+"Account/GM/lka",dataType:"json",data:n}).always(function(n){var i,t;if(n)if(n.Success==!0)reloadAll();else if(n.Data.msgs)for(i=n.Data.msgs,t=0;t<i.length;t++)notif(i[t],"error")})}function ua(){var n={x:gup("x")};$.post({url:window.appBase+"Account/GM/ulka",dataType:"json",data:n}).always(function(n){var i,t;if(n)if(n.Success==!0)reloadAll();else if(n.Data.msgs)for(i=n.Data.msgs,t=0;t<i.length;t++)notif(i[t],"error")})}function ca(){var n={x:gup("x")};$.post({url:window.appBase+"Account/GM/clra",dataType:"json",data:n}).always(function(n){var i,t;if(n)if(n.Success==!0)reloadAll();else if(n.Data.msgs)for(i=n.Data.msgs,t=0;t<i.length;t++)notif(i[t],"error")})}function showLockIcon(n){$("#lockListItem_"+n).hide();$("#unLockListItem_"+n).show()}function showUnlockIcon(n){$("#lockListItem_"+n).show();$("#unLockListItem_"+n).hide()}function newUserCancelClick(){parent&&parent.closeAdminWindow()}function newUserSaveClick(){var o;try{var i="",n="",r="",t="",u="",f="",e="";i=$("#userCodeTextbox").val();hasDepts&&hasDepts==!0?n=$("#Departments")[0].value:(n=$("#departmentCodeTextbox").val(),r=$("#departmentDescriptionTextbox").val());hasEmps&&hasEmps==!0?t=$("#Employees")[0].value:(t=$("#employeeCodeTextbox").val(),u=$("#employeeFirstNameTextbox").val(),f=$("#employeeMiddleInitialTextbox").val(),e=$("#employeeLastNameTextbox").val());o={u:i,up:"",dc:n,dd:r,ec:t,ef:u,em:f,el:e,x:gup("x")};$.post({url:window.appBase+"Account/GM/nu",dataType:"json",data:o}).always(function(n){var t,r,i;try{if(n&&(n.Success&&n.Success===!0&&parent&&parent.refreshAdminWindow(),n.Message&&n.Message!==""&&showKendoAlert(n.Message),response.Data.msgs&&(t=response.Data.msgs,t.length>0))){for(r="",i=0;i<t.length;i++)r+=t[i]+"<br/>";showKendoAlert(r)}}catch(u){}})}catch(s){console.log("save error")}}function reloadAll(){window.location=window.location}function msg(n,t){n&&isNaN(n)===!1&&$("#msg_"+n)&&$("#msg_"+n).html(t)}function notif(n,t){n&&n!=""&&(t&&t!=""||(t="info"),$("#popupNotification").kendoNotification({position:{top:30},stacking:"default"}),$("#popupNotification").getKendoNotification().show(n,t))}