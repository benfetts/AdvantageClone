function showMessage(n,t){t||(t="error");n&&n!=""&&(staticNotification?staticNotification.show(n,t):console.log("No staticNotification"))}function hideMessage(){window.setTimeout(function(){staticNotification?staticNotification.hide():console.log("No staticNotification")},500)}function showPasswordsContainer(){hideMessage();$("#passwordsContainer").show();$("#validationContainer").hide()}function hidePasswordsContainer(){$("#passwordsContainer").hide();$("#validationContainer").show()}function showValidationContainer(){hideMessage();$("#validationContainer").show();$("#passwordsContainer").hide()}function hideValidationContainer(){$("#validationContainer").hide();$("#passwordsContainer").show()}function sendSecurityKeyButtonChange(){$("#emailKeyTextbox").val().length===5?($("#validateSecurityKeyButton").attr("disabled",!1),$("#validateSecurityKeyButton").removeClass("disabled-button"),$("#validateSecurityKeyButton").prop("title","Click to validate!")):($("#validateSecurityKeyButton").attr("disabled",!0),$("#validateSecurityKeyButton").addClass("disabled-button"),$("#validateSecurityKeyButton").prop("title",5-$("#emailKeyTextbox").val().length+" more characters until you can validate!"))}function validateSecurityKey(){var i;if($("#emailKeyTextbox").val().length===5){var n="",t=new Date,r=t.getMilliseconds()*t.getMilliseconds()-t.getMilliseconds();n=$("#emailKeyTextbox").val();n=r+"||"+n+"||"+t.getMilliseconds();n=btoa(n);i={k:n,v:gqsv("dl")};$("#validateSecurityKeyButtonContainer").hide();$("#buttonValidateProgressContainer").show();$.post({url:window.appBase+"Account/Password/vk",dataType:"json",data:i}).always(function(n){$("#validateSecurityKeyButtonContainer").show();$("#buttonValidateProgressContainer").hide();n&&(n.Success==!0?(key2=n.Data.k,key2&&key2!=""&&showPasswordsContainer()):(key2=null,hidePasswordsContainer(),n.Data.e&&n.Data.e!=""&&showMessage(n.Data.e)))})}}function gqsv(n){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(n).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function snp(){window.setTimeout(function(){_snp()},500)}function _snp(){if(key2&&key2!="")if(n=$("#newPasswordTextbox").val(),c=$("#compareNewPasswordTextbox").val(),n&&n.trim()!="")if(c&&c.trim()!=""){if(n!==c)return showMessage("Passwords do not match."),!1;$("#buttonsContainer").hide();$("#buttonProgressContainer").show();var t={w:n,k:key2,x:gqsv("dl")};$.post({url:window.appBase+"Account/Password/cp",dataType:"json",data:t}).always(function(n){var i,t;if(n)if(n.Success==!0)key2=n.Data.k,key2&&key2!=""&&n.Data.url!=""&&(hideMessage(),$("#validationContainer").hide(),$("#passwordsContainer").hide(),$("#successContainer").show(),$("#signInLink").click(function(){window.location.href=n.Data.url}));else{if(n.Data.msgs)for(i=n.Data.msgs,t=0;t<i.length;t++)showMessage(i[t]);$("#buttonsContainer").show();$("#buttonProgressContainer").hide()}})}else showMessage("Please retype your password.");else return showMessage("Please enter new password."),!1;else showMessage("Server key does not match.  Your request may be expired.")}function togglePwd(){$("#newPasswordTextbox").attr("type")==="password"?($("#newPasswordTextbox").attr("type","text"),$("#compareNewPasswordTextbox").attr("type","text")):($("#newPasswordTextbox").attr("type","password"),$("#compareNewPasswordTextbox").attr("type","password"))}function capLock(n){var t=n.keyCode?n.keyCode:n.which,i=n.shiftKey?n.shiftKey:t===16,r=t>=65&&t<=90&&!i||t>=97&&t<=122&&i?!0:!1;r==!0?$("#capsLockWarning").show():$("#capsLockWarning").hide()}function cx(){var n={x:gqsv("dl")};$.post({url:window.appBase+"Account/Password/cx",dataType:"json",data:n}).always(function(n){n&&n.Success==!0&&(window.location.href=n.Data.url)})}var key2=null,o,n,c,capsNotificationVisible=!1,currCapsNotificationVisible=!1,staticNotification=$("#staticNotification").kendoNotification({appendTo:"#messages-containers",autoHideAfter:0,hideOnClick:!1}).data("kendoNotification");