function formatCurrency(n){n=n.toString().replace(/\$|\,/g,"");isNaN(n)&&(n="0");sign=n==(n=Math.abs(n));n=Math.floor(n*100+.50000000001);cents=n%100;n=Math.floor(n/100).toString();cents<10&&(cents="0"+cents);for(var t=0;t<Math.floor((n.length-(1+t))/3);t++)n=n.substring(0,n.length-(4*t+3))+","+n.substring(n.length-(4*t+3));return(sign?"":"-")+""+n+"."+cents}function CommaFormatted(n){var i=n.split(".",2),f=i[1],r=parseInt(i[0]),u,t,e;if(isNaN(r))return"";for(u="",r<0&&(u="-"),r=Math.abs(r),t=new String(r),i=[];t.length>3;)e=t.substr(t.length-3),i.unshift(e),t=t.substr(0,t.length-3);return t.length>0&&i.unshift(t),t=i.join(","),n=f.length<1?t:t+"."+f,u+n}