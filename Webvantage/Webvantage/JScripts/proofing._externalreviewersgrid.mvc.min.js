function clearFilters(){$("#proofingExternalReviewerGrid").data("kendoGrid").dataSource.filter({})}function enabledRegularEdit(){return changeSaveButtonState(!0),changeCancelButtonState(!0),!0}function disableSaveButtonState(){changeSaveButtonState(!1)}function disableCancelButtonState(){changeCancelButtonState(!1),$("#proofingExternalReviewerGrid").data("kendoGrid").cancelChanges()}function changeSaveButtonState(e){$(".wv-save").kendoButton({enable:!1}).data("kendoButton").enable(e)}function changeCancelButtonState(e){$(".wv-cancel").kendoButton({enable:!1}).data("kendoButton").enable(e)}$(document).ready(function(){var e,t=window.appBase+"ProjectManagement/Proofing/",a=null;try{a=getQueryString().c}catch(e){a=null}e=new kendo.data.DataSource({transport:{read:function(e){$.ajax({url:t+"ExternalReviewersGet",dataType:"json",method:"GET",success:function(t){e.success(t),console.log("SUCCESS!",t)},error:function(t){e.error(t),console.log("FAIL!",t)}})},update:function(e){$.ajax({url:t+"ExternalReviewersUpdate",dataType:"json",method:"POST",data:{models:kendo.stringify(e.data.models)},success:function(t){if(t){if(t.ExternalReviewers&&e.success(t.ExternalReviewers),t.ErrorMessages&&t.ErrorMessages.length>0){for(var a="",n=0;n<t.ErrorMessages.length;n++)a+="<li>"+t.ErrorMessages[n]+"</li>";a&&""!=a&&ShowMessage(a)}$("#proofingExternalReviewerGrid").data("kendoGrid").dataSource.read()}},error:function(t){if(t&&(t.ExternalReviewers&&e.error(t.ExternalReviewers),t.ErrorMessages)){for(var a="",n=0;n<t.ErrorMessages.length;n++)a+="<li>"+t.ErrorMessages[n]+"</li>";ShowMessage(a)}}})},destroy:{url:t+"ExternalReviewersDestroy",dataType:"json"},create:{url:t+"ExternalReviewersCreate",dataType:"json"},parameterMap:function(e,t){if("read"!==t&&e.models)return{models:kendo.stringify(e.models)}}},batch:!0,pageSize:10,serverPaging:!1,serverFiltering:!1,schema:{model:{id:"ID",fields:{Name:{from:"Name",type:"string",editable:!0,nullable:!1},Email:{from:"Email",type:"string",editable:!0,nullable:!1},ClientCode:{from:"ClientCode",type:"string",editable:!1,nullable:!1},DivisionCode:{from:"DivisionCode",type:"string",editable:!1,nullable:!1},ProductCode:{from:"ProductCode",type:"string",editable:!1,nullable:!1},JobNumber:{from:"JobNumber",type:"number",editable:!1,nullable:!1},JobComponentNumber:{from:"JobComponentNumber",type:"number",editable:!1,nullable:!1},IsActive:{from:"IsActive",type:"bit",editable:!0,nullable:!1},AddedByUserCode:{from:"AddedByUserCode",type:"string",editable:!1,nullable:!1},AddedDate:{from:"AddedDate",type:"date",editable:!1}}}},filter:{field:"ClientCode",operator:"equals",value:a}});var n=$("#proofingExternalReviewerGrid").kendoGrid({dataSource:e,navigatable:!0,filterable:{operators:{string:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with"}},mode:"menu"},filter:function(e){},pageable:{pageSizes:[10,20,50,100,"all"],numeric:!1},toolbar:[{template:kendo.template($("#gridToolbarTemplate").html())}],columns:[{field:"Name",editable:function(e){return enabledRegularEdit()},title:"Full Name",filterable:{extra:!1}},{field:"Email",editable:function(e){return enabledRegularEdit()},title:"Email Address",filterable:{extra:!1}},{field:"ClientCode",title:"Client",width:120,filterable:{extra:!1}},{field:"IsActive",editable:function(e){return enabledRegularEdit()},title:"Active?",template:"#= IsActive ? 'Yes' : 'No' #",width:85,editor:function(e,t){$('<input class="k-checkbox" type="checkbox" name="IsActive" data-type="boolean" data-bind="checked:IsActive">').appendTo(e)},filterable:!1,headerAttributes:{class:"table-cell",style:"text-align: center;"},attributes:{class:"table-cell",style:"text-align: center;"}}],editable:!0,sortable:!0});n.find(".k-grid-toolbar").on("click",".wv-save",function(e){e.preventDefault(),$("#proofingExternalReviewerGrid").data("kendoGrid").saveChanges(),disableSaveButtonState(),disableCancelButtonState()}),n.find(".k-grid-toolbar").on("click",".wv-cancel",function(e){e.preventDefault(),disableSaveButtonState(),disableCancelButtonState(),$("#proofingExternalReviewerGrid").data("kendoGrid").cancelChanges()}),a&&null!=a&&void 0!=a||clearFilters(),changeSaveButtonState(!1),changeCancelButtonState(!1)});